<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">

  <body>

    <metal:block fill-slot="main"
                 tal:define="id request/id|nothing;
                             toLocalizedTime nocall:context/@@plone/toLocalizedTime;
                             folder python:here.aq_parent;">

      <div tal:replace="structure provider:plone.abovecontenttitle" />

      <h1 id="title" class="documentFirstHeading">
        <span id="parent-fieldname-title" tal:content="context/title">title</span>
      </h1>

      <div tal:replace="structure provider:plone.belowcontenttitle" />

      <metal:content-core define-macro="content-core">
        <div id="introtext"
             tal:condition="context/text"
             tal:content="structure context/text/output" />
      </metal:content-core>
      
      <tal:newsitems repeat="pressrelease view/pressreleases">
        <div tal:define="first repeat/pressrelease/start;
                         first python: ' first' if first else '';
                         last repeat/pressrelease/end;
                         last python: ' last' if last else '';"
             tal:attributes="class python:('newsItem' + first + last)">
          <p class="metadata">
            <em tal:content="python: toLocalizedTime(pressrelease['releaseDate'])">2012-01-01</em>
          </p>
          <a tal:attributes="href pressrelease/url">
            <h4 tal:content="pressrelease/title">Foo</h4>
            <p tal:content="pressrelease/text" />
          </a>
          
        </div>
      </tal:newsitems>

    </metal:block>

  </body>
</html>
